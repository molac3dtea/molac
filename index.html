<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Origami Nyitóoldal</title>
  <link rel="stylesheet" href="bootstrap.css">
  <style>
    body {
      position: relative;
      min-height: 100vh;
      margin: 0;
      font-family: sans-serif;
      overflow: hidden;
	  background-color: #f6f6f6;	
	/* Háttérkép beállítása 
      background: url("pictures/background/windmill2.jpg") no-repeat center center fixed;
      background-size: cover;		*/
    }
	
	body::before {
	  content: "";
	  position: fixed;
	  top: var(--box-bottom, 0px); /* dinamikusan a doboz aljától */
	  left: 0;
	  right: 0;
	  bottom: 0;
	  background: url("pictures/background/windmill2.jpg") no-repeat center center;
	  background-size: contain;
	  background-position: center top;
	  background-color: #f6f6f6;
	  opacity: 0.6;
	  z-index: -3;
	}

	/* szélek elmosása (maszkolás illúziója) */
	body::after {
	  content: "";
	  position: fixed;
	  inset: 0;
	  background: radial-gradient(
		circle at center,
		rgba(255,255,255,0) 70%,
		rgba(255,255,255,1) 100%
	  );
	  z-index: -2;
	  pointer-events: none;
	}

    .background-origami {
      position: absolute;
      inset: 0;
      z-index: -1;
      overflow: hidden;
    }
    .wrapper {
      position: absolute;
      opacity: 0.58;
      will-change: transform, width;
    }
    .wrapper img {
      display: block;
      width: 100%;
      animation: spin linear infinite;
    }

    /* Forgás */
    @keyframes spin {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    .welcome-box {
      text-align: center;
      background: white;
      padding: 3rem;
      border-radius: 1rem;
      box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.1);
      position: relative;
      z-index: 1;
    }
    .btn {
      min-width: 150px;
    }
  </style>
</head>
<body>
  <div class="background-origami"></div>

  <div class="welcome-box" id="welcome-box">
    <h1 class="mb-4">Üdvözlünk az Origami oldalon!</h1>
    <p class="lead mb-4">Válaszd ki a kívánt nyelvet a belépéshez:</p>
    <div class="d-flex justify-content-center gap-3">
      <a href="origami.htm" class="btn btn-primary">Belépés (Magyar)</a>
      <a href="origami_e.htm" class="btn btn-secondary">Enter (English)</a>
      <a href="origami_d.htm" class="btn btn-info">Eintritt (Deutsch)</a>
    </div>
  </div>

  <script>
    const container = document.querySelector('.background-origami');
    const box = document.getElementById('welcome-box');
    let screenW = window.innerWidth;
    let screenH = window.innerHeight;
    let boxBottom = box.offsetTop + box.offsetHeight;
    const margin = 50;

    const steps = [
      "origami_step_01.png",
      "origami_step_02.png",
      "origami_step_03.png",
      "origami_step_04.png",
      "origami_step_05.png",
      "origami_step_06.png",
      "origami_step_07.png",
      "origami_step_08.png",
      "origami_step_09.png",
      "origami_step_10.png",
      "origami_step_11.png",
      "origami_step_12.png",
      "origami_step_13.png",
      "origami_step_14.png",
      "origami_step_15.png"
    ];

    const floaters = [];

    function randomPos(imgW, imgH) {
      return {
        x: margin + Math.random() * (screenW - imgW - margin*2),
        y: boxBottom + Math.random() * (screenH - boxBottom - imgH - margin)
      };
    }

    // Létrehozzuk a darabokat
    steps.forEach(src => {
      const wrapper = document.createElement("div");
      wrapper.className = "wrapper";

      const img = document.createElement("img");
      img.src = "pictures/background/" + src;

      const baseSize = 120 + Math.random() * 80; // 120–200 px
      wrapper.style.width = baseSize + "px";

      const {x, y} = randomPos(baseSize, baseSize);
      wrapper.style.left = x + "px";
      wrapper.style.top  = y + "px";

      // Forgás sebesség
      const spinDur = 20 + Math.random()*40;
      img.style.animationDuration = `${spinDur}s`;

      wrapper.appendChild(img);
      container.appendChild(wrapper);

      floaters.push({
        el: wrapper,
        x: x,
        y: y,
        size: baseSize,
        dx: (Math.random() - 0.5) * 1.2,   // gyorsabb sodródás
        dy: (Math.random() - 0.5) * 1.2,
        dsize: (Math.random() - 0.5) * 0.6 // intenzívebb méretváltozás
      });
    });

    // Folyamatos sodródás
    function animate() {
      floaters.forEach(f => {
        f.x += f.dx;
        f.y += f.dy;
        f.size += f.dsize;

        // Méret határok
        if (f.size < 100 || f.size > 220) f.dsize *= -1;

        // Falról visszapattanás
        if (f.x < margin || f.x > screenW - f.size - margin) f.dx *= -1;
        if (f.y < boxBottom || f.y > screenH - f.size - margin) f.dy *= -1;

        f.el.style.left = f.x + "px";
        f.el.style.top  = f.y + "px";
        f.el.style.width = f.size + "px";
      });

      requestAnimationFrame(animate);
    }
    animate();

    // Újrapozícionálás ablakméret változáskor
    window.addEventListener('resize', () => {
      screenW = window.innerWidth;
      screenH = window.innerHeight;
      boxBottom = box.offsetTop + box.offsetHeight;

      floaters.forEach(f => {
        const newSize = 120 + Math.random() * 80;
        const {x, y} = randomPos(newSize, newSize);
        f.size = newSize;
        f.x = x;
        f.y = y;

        f.el.style.width = f.size + "px";
        f.el.style.left = f.x + "px";
        f.el.style.top  = f.y + "px";
      });
    });
	
	function updateBoxBottom() {
	  const box = document.getElementById('welcome-box');
	  const boxBottom = box.offsetTop + box.offsetHeight;
	  document.body.style.setProperty('--box-bottom', boxBottom + "px");
	}

	// induláskor és resize esetén hívjuk meg
	updateBoxBottom();
	window.addEventListener('resize', updateBoxBottom);

  </script>
</body>
</html>